const mobileBtn=document.querySelector('.mobile-menu-btn');const nav=document.getElementById('nav');const navLinks=document.querySelectorAll('.nav-link');if(mobileBtn){mobileBtn.addEventListener('click',()=>{nav.classList.toggle('nav-active');mobileBtn.classList.toggle('active')})}
navLinks.forEach(link=>{link.addEventListener('click',()=>{nav.classList.remove('nav-active');mobileBtn.classList.remove('active')})});document.addEventListener('DOMContentLoaded',()=>{const video=document.querySelector('.hero-video');if(video){video.playbackRate=0.5}});const observerOptions={root:null,threshold:0.15,rootMargin:"0px"};const scrollObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible');const counters=entry.target.querySelectorAll('.counter');if(counters.length>0)startCounters(counters);observer.unobserve(entry.target)}})},observerOptions);document.querySelectorAll('.animate-block').forEach((element)=>{scrollObserver.observe(element)});function toggleDrawer(box){const isOpen=box.classList.contains('open');document.querySelectorAll('.drawer-box').forEach(b=>{b.classList.remove('open')});if(!isOpen){box.classList.add('open')}}
function startCounters(counters){counters.forEach(counter=>{const target=+counter.getAttribute('data-target');const suffix=counter.getAttribute('data-suffix');const isFloat=counter.getAttribute('data-is-float')==='true';let count=0;const duration=2500;const startTime=performance.now();const update=(currentTime)=>{const elapsed=currentTime-startTime;const progress=Math.min(elapsed/duration,1);const easeOut=1-Math.pow(1-progress,4);const currentVal=count+(target*easeOut);if(isFloat)counter.innerText=currentVal.toFixed(1)+suffix;else counter.innerText=Math.ceil(currentVal)+suffix;if(progress<1)requestAnimationFrame(update);else counter.innerText=target+suffix};requestAnimationFrame(update)})}
const navIndicator=document.getElementById('indicator');const navLinksSpy=document.querySelectorAll('.nav-link');const sections=document.querySelectorAll('section');function moveIndicator(link){if(!link||!navIndicator||window.innerWidth<=768)return;navIndicator.style.width=link.offsetWidth+"px";navIndicator.style.left=link.offsetLeft+"px"}
navLinksSpy.forEach(link=>{link.addEventListener('click',(e)=>{moveIndicator(e.target)})});window.addEventListener('scroll',()=>{let current='';const scrollY=window.scrollY;sections.forEach(section=>{const sectionTop=section.offsetTop;if(scrollY>=(sectionTop-200)){current=section.getAttribute('id')}});navLinksSpy.forEach(link=>{link.style.color='var(--text-muted)';if(link.getAttribute('href').includes(current)){link.style.color='var(--text-main)';moveIndicator(link)}})});window.addEventListener('load',()=>{const firstLink=document.querySelector('.nav-link');if(firstLink)moveIndicator(firstLink);})